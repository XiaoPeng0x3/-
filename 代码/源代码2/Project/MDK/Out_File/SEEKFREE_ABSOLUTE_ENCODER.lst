C251 COMPILER V5.60.0,  SEEKFREE_ABSOLUTE_ENCODER                                          14/06/24  16:35:48  PAGE 1   


C251 COMPILER V5.60.0, COMPILATION OF MODULE SEEKFREE_ABSOLUTE_ENCODER
OBJECT MODULE PLACED IN .\Out_File\SEEKFREE_ABSOLUTE_ENCODER.obj
COMPILER INVOKED BY: D:\Keil_v5\C251\BIN\C251.EXE ..\..\Libraries\seekfree_peripheral\SEEKFREE_ABSOLUTE_ENCODER.c XSMALL
                    - INTR2 WARNINGLEVEL(0) BROWSE INCDIR(..\..\Libraries\libraries;..\..\Libraries\seekfree_libraries;..\..\Libraries\seekfr
                    -ee_peripheral;..\CODE;..\USER\inc;..\USER\src) DEBUG PRINT(.\Out_File\SEEKFREE_ABSOLUTE_ENCODER.lst) TABS(2) OBJECT(.\Ou
                    -t_File\SEEKFREE_ABSOLUTE_ENCODER.obj) 

stmt  level    source

    1          /********************************************************************************************************
             -*************
    2           * COPYRIGHT NOTICE
    3           * Copyright (c) 2018,é€é£ç§‘æŠ€
    4           * All rights reserved.
    5           * æŠ€æœ¯è®¨è®ºQQç¾¤ï¼š179029047
    6           *
    7           * ä»¥ä¸‹æ‰€æœ‰å†…å®¹ç‰ˆæƒå‡å±é€é£ç§‘æŠ€æ‰€æœ‰ï¼Œæœªç»å…è®¸ä¸å¾—ç”¨äºå•†ä¸šç”¨é€”ï¼Œ
    8           * æ¬¢è¿å„ä½ä½¿ç”¨å¹¶ä¼ æ’­æœ¬ç¨‹åºï¼Œä¿®æ”¹å†…å®¹æ—¶å¿…é¡»ä¿ç•™é€é£ç§‘æŠ€çš„ç‰ˆæƒå£°æ˜ã€‚
    9           *
   10           * @file          ç»å¯¹å¼ç¼–ç å™¨
   11           * @company       æˆéƒ½é€é£ç§‘æŠ€æœ‰é™å…¬å¸
   12           * @author        é€é£ç§‘æŠ€(QQ3184284598)
   13           * @version       æŸ¥çœ‹LPC546XX_config.hæ–‡ä»¶å†…ç‰ˆæœ¬å®å®šä¹‰
   14           * @Software    MDK FOR C251 V5.60a
   15           * @Target core   LPC54606J512BD100
   16           * @Taobao      https://seekfree.taobao.com/
   17           * @date          2020-01-13
   18           * @note
   19                              æ¥çº¿å®šä¹‰ï¼š
   20                              ------------------------------------
   21                              æ¨¡å—ç®¡è„š            å•ç‰‡æœºç®¡è„š
   22                              SCK             æŸ¥çœ‹SEEKFREE_ABSOLUTE_ENCODER.Hæ–‡ä»¶ABS_ENCODER_SPI_SCK_PIN å®å®šä¹
             -‰
   23                              MISO              æŸ¥çœ‹SEEKFREE_ABSOLUTE_ENCODER.Hæ–‡ä»¶ABS_ENCODER_SPI_MISO_PINå®å
             -®šä¹‰
   24                              MOSI                æŸ¥çœ‹SEEKFREE_ABSOLUTE_ENCODER.Hæ–‡ä»¶ABS_ENCODER_SPI_MOSI_PINå®
             -å®šä¹‰
   25                              CS                  æŸ¥çœ‹SEEKFREE_ABSOLUTE_ENCODER.Hæ–‡ä»¶ABS_ENCODER_SPI_PCS_PIN  å
             -®å®šä¹‰
   26                              ------------------------------------
   27           ********************************************************************************************************
             -************/
   28          
   29          #include "SEEKFREE_ABSOLUTE_ENCODER.h"
   30          #include "zf_spi.h"
   31          #include "zf_delay.h"
   32          
   33          //-------------------------ä»¥ä¸‹ä¸ºè½¯ä»¶SPI--------------------------//
   34          //-------------------------ä»¥ä¸‹ä¸ºè½¯ä»¶SPI--------------------------//
   35          //-------------------------ä»¥ä¸‹ä¸ºè½¯ä»¶SPI--------------------------//
   36          
   37          //-------------------------------------------------------------------------------------------------------
             -------------
   38          //  @brief      å†…éƒ¨ä½¿ç”¨ç”¨æˆ·æ— éœ€å…³å¿ƒ
   39          //  @param      NULL
   40          //  @return     void
   41          //  Sample usage:               æ— éœ€ç”¨æˆ·è°ƒç”¨ï¼Œç”¨æˆ·è¯·ä½¿ç”¨hæ–‡ä»¶ä¸­çš„å®å®šä¹‰
   42          //-------------------------------------------------------------------------------------------------------
             -------------
   43          void encoder_delay_us(uint16 x)
   44          {
   45   1          delay_us(x);
   46   1      }
   47          
   48          //-------------------------------------------------------------------------------------------------------
C251 COMPILER V5.60.0,  SEEKFREE_ABSOLUTE_ENCODER                                          14/06/24  16:35:48  PAGE 2   

             -------------
   49          //  @brief      é€šè¿‡SPIå†™ä¸€ä¸ªbyte,åŒæ—¶è¯»å–ä¸€ä¸ªbyte
   50          //  @param      byte        å‘é€çš„æ•°æ®
   51          //  @return     uint8       return è¿”å›statusçŠ¶æ€
   52          //  @since      v1.0
   53          //  Sample usage:
   54          //-------------------------------------------------------------------------------------------------------
             -------------
   55          uint8 simspi_wr_byte(uint8 byte)
   56          {
   57   1          uint8 i;
   58   1          for (i = 0; i < 8; i++)
   59   1          {
   60   2              ABS_ENCODER_MOSI(byte & 0x80);
   61   2              byte <<= 1;
   62   2              ABS_ENCODER_SCK(0);
   63   2      
   64   2              ABS_ENCODER_SCK(1);
   65   2              byte |= ABS_ENCODER_MISO;
   66   2          }
   67   1          return (byte);
   68   1      }
   69          
   70          //-------------------------------------------------------------------------------------------------------
             -------------
   71          //  @brief      å°†valå†™å…¥cmdå¯¹åº”çš„å¯„å­˜å™¨åœ°å€,åŒæ—¶è¿”å›statuså­—èŠ‚
   72          //  @param      cmd         å‘½ä»¤å­—
   73          //  @param      val         å¾…å†™å…¥å¯„å­˜å™¨çš„æ•°å€¼
   74          //  @since      v1.0
   75          //  Sample usage:
   76          //-------------------------------------------------------------------------------------------------------
             -------------
   77          void simspi_w_reg_byte(uint8 cmd, uint8 val)
   78          {
   79   1          ABS_ENCODER_CSN(0);
   80   1          cmd |= ABS_ENCODER_SPI_W;
   81   1          simspi_wr_byte(cmd);
   82   1          simspi_wr_byte(val);
   83   1          ABS_ENCODER_CSN(1);
   84   1      }
   85          
   86          //-------------------------------------------------------------------------------------------------------
             -------------
   87          //  @brief      è¯»å–cmdæ‰€å¯¹åº”çš„å¯„å­˜å™¨åœ°å€
   88          //  @param      cmd         å‘½ä»¤å­—
   89          //  @param      *val        å­˜å‚¨è¯»å–çš„æ•°æ®åœ°å€
   90          //  @since      v1.0
   91          //  Sample usage:
   92          //-------------------------------------------------------------------------------------------------------
             -------------
   93          void simspi_r_reg_byte(uint8 cmd, uint8 *val)
   94          {
   95   1          ABS_ENCODER_CSN(0);
   96   1          cmd |= ABS_ENCODER_SPI_R;
   97   1          simspi_wr_byte(cmd);
   98   1          *val = simspi_wr_byte(0);
   99   1          ABS_ENCODER_CSN(1);
  100   1      }
  101          
  102          //-------------------------------------------------------------------------------------------------------
             -------------
  103          //  @brief      å†™å…¥ä¸€ä¸ªæ•°æ®åˆ°ç¼–ç å™¨çš„å¯„å­˜å™¨
  104          //  @param      cmd         å¯„å­˜å™¨åœ°å€
  105          //  @param      *val        å†™å…¥æ•°æ®çš„åœ°å€
  106          //  @return     uint8       0ï¼šç¨‹åº  1ï¼šå¤±è´¥
  107          //  @since      v1.0
C251 COMPILER V5.60.0,  SEEKFREE_ABSOLUTE_ENCODER                                          14/06/24  16:35:48  PAGE 3   

  108          //  Sample usage:
  109          //-------------------------------------------------------------------------------------------------------
             -------------
  110          uint8 encoder_simspi_w_reg_byte(uint8 cmd, uint8 val)
  111          {
  112   1      
  113   1          uint8 dat;
  114   1          ABS_ENCODER_CSN(0);
  115   1          cmd |= ABS_ENCODER_SPI_W;
  116   1          simspi_wr_byte(cmd);
  117   1          simspi_wr_byte(val);
  118   1          ABS_ENCODER_CSN(1);
  119   1          encoder_delay_us(1);
  120   1          ABS_ENCODER_CSN(0);
  121   1          dat = simspi_wr_byte(0x00);
  122   1          simspi_wr_byte(0x00);
  123   1          ABS_ENCODER_CSN(1);
  124   1      
  125   1          if (val != dat)
  126   1              return 1; //å†™å…¥å¤±è´¥
  127   1          return 0;     //å†™å…¥æˆåŠŸ
  128   1      }
  129          
  130          //-------------------------------------------------------------------------------------------------------
             -------------
  131          //  @brief      è¯»å–å¯„å­˜å™¨
  132          //  @param      cmd         å¯„å­˜å™¨åœ°å€
  133          //  @param      *val        å­˜å‚¨è¯»å–çš„æ•°æ®åœ°å€
  134          //  @return     void
  135          //  @since      v1.0
  136          //  Sample usage:
  137          //-------------------------------------------------------------------------------------------------------
             -------------
  138          void encoder_simspi_r_reg_byte(uint8 cmd, uint8 *val)
  139          {
  140   1          ABS_ENCODER_CSN(0);
  141   1          cmd |= ABS_ENCODER_SPI_R;
  142   1          simspi_wr_byte(cmd);
  143   1          simspi_wr_byte(0x00);
  144   1          ABS_ENCODER_CSN(1);
  145   1          encoder_delay_us(1);
  146   1          ABS_ENCODER_CSN(0);
  147   1          *val = simspi_wr_byte(0x00);
  148   1          simspi_wr_byte(0x00);
  149   1          ABS_ENCODER_CSN(1);
  150   1      }
  151          
  152          //-------------------------------------------------------------------------------------------------------
             -------------
  153          //  @brief      è®¾ç½®é›¶å
  154          //  @param      zero_position  éœ€è¦è®¾ç½®çš„é›¶å
  155          //  @return     void
  156          //  @since      v1.0
  157          //  Sample usage:
  158          //-------------------------------------------------------------------------------------------------------
             -------------
  159          void set_zero_position_simspi(uint16 zero_position)
  160          {
  161   1          zero_position = (uint16)(4096 - zero_position);
  162   1          zero_position = zero_position << 4;
  163   1          encoder_simspi_w_reg_byte(ZERO_L_REG, (uint8)zero_position); //è®¾ç½®é›¶ä½
  164   1          encoder_simspi_w_reg_byte(ZERO_H_REG, (uint8)(zero_position >> 8));
  165   1      }
  166          
  167          //-------------------------------------------------------------------------------------------------------
             -------------
C251 COMPILER V5.60.0,  SEEKFREE_ABSOLUTE_ENCODER                                          14/06/24  16:35:48  PAGE 4   

  168          //  @brief      å†™å…¥ä¸€ä¸ªæ•°æ®åˆ°ç¼–ç å™¨çš„å¯„å­˜å™¨
  169          //  @param      void
  170          //  @return     uint16       è¿”å›è§’åº¦å€¼0-4096 å¯¹åº”0-360Â°
  171          //  @since      v1.0
  172          //  Sample usage:
  173          //-------------------------------------------------------------------------------------------------------
             -------------
  174          uint16 encoder_angle_simspi(void)
  175          {
  176   1          uint16 angle;
  177   1      
  178   1          ABS_ENCODER_CSN(0);
  179   1          angle = simspi_wr_byte(0x00);
  180   1          angle <<= 8;                   //å­˜å‚¨é«˜å…«ä½
  181   1          angle |= simspi_wr_byte(0x00); //å­˜å‚¨ä½å…«ä½
  182   1          ABS_ENCODER_CSN(1);
  183   1      
  184   1          return (angle >> 4); // 12ä½ç²¾åº¦ï¼Œå› æ­¤å³ç§»å››ä½
  185   1      }
  186          
  187          //-------------------------------------------------------------------------------------------------------
             -------------
  188          //  @brief      ç¼–ç å™¨è‡ªæ£€å‡½æ•°
  189          //  @param      NULL
  190          //  @return     void
  191          //  @since      v1.0
  192          //  Sample usage:
  193          //-------------------------------------------------------------------------------------------------------
             -------------
  194          void encoder_self4_check(void)
  195          {
  196   1          uint8 val;
  197   1          do
  198   1          {
  199   2              encoder_simspi_r_reg_byte(6, &val);
  200   2      
  201   2              //å¡åœ¨è¿™é‡ŒåŸå› æœ‰ä»¥ä¸‹å‡ ç‚¹
  202   2              // 1 ç¼–ç å™¨åäº†ï¼Œå¦‚æœæ˜¯æ–°çš„è¿™æ ·çš„æ¦‚ç‡æä½
  203   2              // 2 æ¥çº¿é”™è¯¯æˆ–è€…æ²¡æœ‰æ¥å¥½
  204   2          } while (0x1C != val);
  205   1      }
  206          
  207          //-------------------------------------------------------------------------------------------------------
             -------------
  208          //  @brief      ç¼–ç å™¨åˆå§‹åŒ–å‡½æ•°
  209          //  @param      NULL
  210          //  @return     void
  211          //  @since      v1.0
  212          //  Sample usage:
  213          //-------------------------------------------------------------------------------------------------------
             -------------
  214          void encoder_init_simspi(void)
  215          {
  216   1          encoder_self4_check(); //è‡ªæ£€
  217   1      
  218   1          encoder_simspi_w_reg_byte(DIR_REG, 0x00); //è®¾ç½®æ—‹è½¬æ–¹å‘ æ­£è½¬æ•°å€¼å˜å°ï¼š0x00   åè½¬æ•°å
             -€¼å˜å¤§ï¼š0x80
  219   1      
  220   1          set_zero_position_simspi(0); //è®¾ç½®é›¶å
  221   1      }
  222          
  223          //-------------------------ä»¥ä¸Šä¸ºè½¯ä»¶SPI--------------------------//
  224          //-------------------------ä»¥ä¸Šä¸ºè½¯ä»¶SPI--------------------------//
  225          //-------------------------ä»¥ä¸Šä¸ºè½¯ä»¶SPI--------------------------//
  226          
  227          //-------------------------ä»¥ä¸‹ä¸ºç¡¬ä»¶SPI--------------------------//
C251 COMPILER V5.60.0,  SEEKFREE_ABSOLUTE_ENCODER                                          14/06/24  16:35:48  PAGE 5   

  228          //-------------------------ä»¥ä¸‹ä¸ºç¡¬ä»¶SPI--------------------------//
  229          //-------------------------ä»¥ä¸‹ä¸ºç¡¬ä»¶SPI--------------------------//
  230          
  231          //-------------------------------------------------------------------------------------------------------
             -------------
  232          //  @brief      é€šè¿‡SPIå†™ä¸€ä¸ªbyte,åŒæ—¶è¯»å–ä¸€ä¸ªbyte
  233          //  @param      byte        å‘é€çš„æ•°æ®
  234          //  @return     uint8       return è¿”å›statusçŠ¶æ€
  235          //  @since      v1.0
  236          //  Sample usage:
  237          //-------------------------------------------------------------------------------------------------------
             -------------
  238          uint8 spi_wr_byte(uint8 byte)
  239          {
  240   1          byte = spi_mosi(byte);
  241   1          return (byte);
  242   1      }
  243          
  244          //-------------------------------------------------------------------------------------------------------
             -------------
  245          //  @brief      å°†valå†™å…¥cmdå¯¹åº”çš„å¯„å­˜å™¨åœ°å€,åŒæ—¶è¿”å›statuså­—èŠ‚
  246          //  @param      cmd         å‘½ä»¤å­—
  247          //  @param      val         å¾…å†™å…¥å¯„å­˜å™¨çš„æ•°å€¼
  248          //  @since      v1.0
  249          //  Sample usage:
  250          //-------------------------------------------------------------------------------------------------------
             -------------
  251          void spi_w_reg_byte(uint8 cmd, uint8 val)
  252          {
  253   1          ABS_ENCODER_SPI_CSN(0);
  254   1          cmd |= ABS_ENCODER_SPI_W;
  255   1          spi_wr_byte(cmd);
  256   1          spi_wr_byte(val);
  257   1          ABS_ENCODER_SPI_CSN(1);
  258   1      }
  259          
  260          //-------------------------------------------------------------------------------------------------------
             -------------
  261          //  @brief      è¯»å–cmdæ‰€å¯¹åº”çš„å¯„å­˜å™¨åœ°å€
  262          //  @param      cmd         å‘½ä»¤å­—
  263          //  @param      *val        å­˜å‚¨è¯»å–çš„æ•°æ®åœ°å€
  264          //  @since      v1.0
  265          //  Sample usage:
  266          //-------------------------------------------------------------------------------------------------------
             -------------
  267          void spi_r_reg_byte(uint8 cmd, uint8 *val)
  268          {
  269   1          ABS_ENCODER_SPI_CSN(0);
  270   1          cmd |= ABS_ENCODER_SPI_R;
  271   1          spi_wr_byte(cmd);
  272   1          *val = simspi_wr_byte(0);
  273   1          ABS_ENCODER_SPI_CSN(1);
  274   1      }
  275          
  276          //-------------------------------------------------------------------------------------------------------
             -------------
  277          //  @brief      å†™å…¥ä¸€ä¸ªæ•°æ®åˆ°ç¼–ç å™¨çš„å¯„å­˜å™¨
  278          //  @param      cmd         å¯„å­˜å™¨åœ°å€
  279          //  @param      *val        å†™å…¥æ•°æ®çš„åœ°å€
  280          //  @return     uint8       0ï¼šç¨‹åº  1ï¼šå¤±è´¥
  281          //  @since      v1.0
  282          //  Sample usage:
  283          //-------------------------------------------------------------------------------------------------------
             -------------
  284          uint8 encoder_spi_w_reg_byte(uint8 cmd, uint8 val)
  285          {
C251 COMPILER V5.60.0,  SEEKFREE_ABSOLUTE_ENCODER                                          14/06/24  16:35:48  PAGE 6   

  286   1          uint8 dat;
  287   1          ABS_ENCODER_SPI_CSN(0);
  288   1          cmd |= ABS_ENCODER_SPI_W;
  289   1          spi_wr_byte(cmd);
  290   1          spi_wr_byte(val);
  291   1          ABS_ENCODER_SPI_CSN(1);
  292   1          encoder_delay_us(1);
  293   1          ABS_ENCODER_SPI_CSN(0);
  294   1          dat = spi_wr_byte(0x00);
  295   1          spi_wr_byte(0x00);
  296   1          ABS_ENCODER_SPI_CSN(1);
  297   1      
  298   1          if (val != dat)
  299   1              return 1; //å†™å…¥å¤±è´¥
  300   1          return 0;     //å†™å…¥æˆåŠŸ
  301   1      }
  302          
  303          //-------------------------------------------------------------------------------------------------------
             -------------
  304          //  @brief      è¯»å–å¯„å­˜å™¨
  305          //  @param      cmd         å¯„å­˜å™¨åœ°å€
  306          //  @param      *val        å­˜å‚¨è¯»å–çš„æ•°æ®åœ°å€
  307          //  @return     void
  308          //  @since      v1.0
  309          //  Sample usage:
  310          //-------------------------------------------------------------------------------------------------------
             -------------
  311          void encoder_spi_r_reg_byte(uint8 cmd, uint8 *val)
  312          {
  313   1          ABS_ENCODER_SPI_CSN(0);
  314   1          cmd |= ABS_ENCODER_SPI_R;
  315   1          spi_wr_byte(cmd);
  316   1          spi_wr_byte(0x00);
  317   1      
  318   1          ABS_ENCODER_SPI_CSN(1);
  319   1          encoder_delay_us(1);
  320   1          ABS_ENCODER_SPI_CSN(0);
  321   1          *val = spi_wr_byte(0x00);
  322   1          spi_wr_byte(0x00);
  323   1          ABS_ENCODER_SPI_CSN(1);
  324   1      }
  325          
  326          //-------------------------------------------------------------------------------------------------------
             -------------
  327          //  @brief      è®¾ç½®é›¶å
  328          //  @param      zero_position  éœ€è¦è®¾ç½®çš„é›¶å
  329          //  @return     void
  330          //  @since      v1.0
  331          //  Sample usage:
  332          //-------------------------------------------------------------------------------------------------------
             -------------
  333          void set_zero_position_spi(uint16 zero_position)
  334          {
  335   1          zero_position = (uint16)(4096 - zero_position);
  336   1          zero_position = zero_position << 4;
  337   1          encoder_spi_w_reg_byte(ZERO_L_REG, (uint8)zero_position); //è®¾ç½®é›¶ä½
  338   1          encoder_spi_w_reg_byte(ZERO_H_REG, (uint8)(zero_position >> 8));
  339   1      }
  340          
  341          //-------------------------------------------------------------------------------------------------------
             -------------
  342          //  @brief      å†™å…¥ä¸€ä¸ªæ•°æ®åˆ°ç¼–ç å™¨çš„å¯„å­˜å™¨
  343          //  @param      void
  344          //  @return     uint16       è¿”å›è§’åº¦å€¼0-4096 å¯¹åº”0-360Â°
  345          //  @since      v1.0
  346          //  Sample usage:
C251 COMPILER V5.60.0,  SEEKFREE_ABSOLUTE_ENCODER                                          14/06/24  16:35:48  PAGE 7   

  347          //-------------------------------------------------------------------------------------------------------
             -------------
  348          uint16 encoder_angle_spi(void)
  349          {
  350   1          uint16 angle;
  351   1          ABS_ENCODER_SPI_CSN(0);
  352   1          angle = (uint16)spi_wr_byte(0x00);
  353   1          angle <<= 8;                        //å­˜å‚¨é«˜å…«ä½
  354   1          angle |= (uint16)spi_wr_byte(0x00); //å­˜å‚¨ä½å…«ä½
  355   1          ABS_ENCODER_SPI_CSN(1);
  356   1      
  357   1          return (angle >> 4); // 12ä½ç²¾åº¦ï¼Œå› æ­¤å³ç§»å››ä½
  358   1      }
  359          
  360          //-------------------------------------------------------------------------------------------------------
             -------------
  361          //  @brief      ç¼–ç å™¨è‡ªæ£€å‡½æ•°
  362          //  @param      NULL
  363          //  @return     void
  364          //  @since      v1.0
  365          //  Sample usage:
  366          //-------------------------------------------------------------------------------------------------------
             -------------
  367          void encoder_self5_check(void)
  368          {
  369   1          uint8 val;
  370   1          do
  371   1          {
  372   2              encoder_spi_r_reg_byte(6, &val);
  373   2              //å¡åœ¨è¿™é‡ŒåŸå› æœ‰ä»¥ä¸‹å‡ ç‚¹
  374   2              // 1 ç¼–ç å™¨åäº†ï¼Œå¦‚æœæ˜¯æ–°çš„è¿™æ ·çš„æ¦‚ç‡æä½
  375   2              // 2 æ¥çº¿é”™è¯¯æˆ–è€…æ²¡æœ‰æ¥å¥½
  376   2          } while (0x1C != val);
  377   1      }
  378          
  379          //-------------------------------------------------------------------------------------------------------
             -------------
  380          //  @brief      ç¼–ç å™¨åˆå§‹åŒ–å‡½æ•°
  381          //  @param      NULL
  382          //  @return     void
  383          //  @since      v1.0
  384          //  Sample usage:
  385          //-------------------------------------------------------------------------------------------------------
             -------------
  386          void encoder_init_spi(void)
  387          {
  388   1          spi_init(ABS_ENCODER_SPI_NUM, ABS_ENCODER_SPI_SCK_PIN, ABS_ENCODER_SPI_MOSI_PIN, ABS_ENCODER_SPI_MISO
             -_PIN, 0, MASTER, SPI_SYSclk_DIV_4);
  389   1      
  390   1          encoder_self5_check();
  391   1          encoder_spi_w_reg_byte(DIR_REG, 0x00); //è®¾ç½®æ—‹è½¬æ–¹å‘ æ­£è½¬æ•°å€¼å˜å°ï¼š0x00   åè½¬æ•°å€¼å
             -˜å¤§ï¼š0x80
  392   1          set_zero_position_spi(0);              //è®¾ç½®é›¶å
  393   1      }
  394          
  395          //-------------------------ä»¥ä¸Šä¸ºç¡¬ä»¶SPI--------------------------//
  396          //-------------------------ä»¥ä¸Šä¸ºç¡¬ä»¶SPI--------------------------//
  397          //-------------------------ä»¥ä¸Šä¸ºç¡¬ä»¶SPI--------------------------//


Module Information          Static   Overlayable
------------------------------------------------
  code size            =       586     ------
  ecode size           =    ------     ------
  data size            =    ------     ------
  idata size           =    ------     ------
  pdata size           =    ------     ------
C251 COMPILER V5.60.0,  SEEKFREE_ABSOLUTE_ENCODER                                          14/06/24  16:35:48  PAGE 8   

  xdata size           =    ------     ------
  xdata-const size     =    ------     ------
  edata size           =    ------          2
  bit size             =    ------     ------
  ebit size            =    ------     ------
  bitaddressable size  =    ------     ------
  ebitaddressable size =    ------     ------
  far data size        =    ------     ------
  huge data size       =    ------     ------
  const size           =    ------     ------
  hconst size          =    ------     ------
End of Module Information.


C251 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
